{% extends "base.html" %}

{% set github = payload['github'] %}
{% set repo_slug = payload['github']['repo']['full_name'] %}


{% macro panel(title, body) -%}
<div class="col-sm-12 col-md-6 .col-lg-4">
<div class="panel panel-default">
  <div class="panel-heading">{{ title }}</div>
  <div class="panel-body">
    {{ body }}
  </div>
</div>
</div>
{%- endmacro %}


{% block content %}


<div class="row">
{{ panel('Commits', payload.viz.commits.div) }}
{{ panel('Insertions and deletions per commit', payload.viz.add_sub.div) }}
{{ panel('First contributions', payload.viz.new_contributors.div) }}
{{ panel('Stargazers', payload.viz.stargazers.div) }}
</div>

{% endblock %}

{% block post_content %}
{{ super() }}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

{{ payload.viz.new_contributors.script }}
{{ payload.viz.add_sub.script }}
{{ payload.viz.commits.script }}
{{ payload.viz.stargazers.script }}
{% endblock %}
